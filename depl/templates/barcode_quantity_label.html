<!DOCTYPE html>
<html>
<head>
    <title>SKU Miktar Etiketleri (SKU SÄ±ralÄ± - 16/etiket)</title>
    <style>
        /* Sayfa Genel AyarlarÄ± */
        body {
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            /* 100x100mm yazdÄ±rma iÃ§in sayfa boyutu ayarÄ± (TarayÄ±cÄ± desteÄŸine baÄŸlÄ±dÄ±r) */
            /* @page { size: 100mm 100mm; margin: 0; } */
        }

        /* Her 100x100mm'lik Etiket AlanÄ± */
        .label-page {
            width: 98mm; /* Kenar boÅŸluklarÄ±/Ã§erÃ§eveler iÃ§in biraz boÅŸluk */
            height: 98mm; /* Kenar boÅŸluklarÄ±/Ã§erÃ§eveler iÃ§in biraz boÅŸluk */
            margin: 1mm; /* Etiketler arasÄ± boÅŸluk */
            border: 1px solid #ccc; /* Ä°steÄŸe baÄŸlÄ±: Etiket sÄ±nÄ±rlarÄ±nÄ± gÃ¶rmek iÃ§in */
            box-sizing: border-box;
            page-break-after: always; /* Her .label-page'den sonra yeni sayfaya geÃ§ */
            display: grid; /* Ä°Ã§indeki Ã¼rÃ¼n bilgilerini dÃ¼zenlemek iÃ§in grid kullan */
            /* 4x4 dÃ¼zeni ile 16 adet SKU+Miktar+Tik Ã§ifti sÄ±ÄŸdÄ±rÄ±yoruz */
            grid-template-columns: repeat(4, 1fr); /* DÃ¶rt eÅŸit geniÅŸlikte sÃ¼tun */
            grid-template-rows: repeat(4, 1fr); /* DÃ¶rt eÅŸit yÃ¼kseklikte satÄ±r */
            gap: 1mm; /* ÃœrÃ¼n bilgi alanlarÄ± arasÄ± boÅŸluÄŸu azalttÄ±k */
            padding: 1mm; /* Konteyner iÃ§i boÅŸluÄŸu azalttÄ±k */
            overflow: hidden; /* TaÅŸmalarÄ± gizle */
        }

         /* YazdÄ±rma iÃ§in sayfa ayarlarÄ± */
        @media print {
            body {
                margin: 0;
                padding: 0;
            }
            .label-page {
                width: 100mm;
                height: 100mm;
                margin: 0;
                border: none; /* YazdÄ±rÄ±rken Ã§erÃ§eveleri kaldÄ±rma */
                page-break-after: always;
                grid-template-columns: repeat(4, 1fr); /* YazdÄ±rmada da 4 sÃ¼tun */
                grid-template-rows: repeat(4, 1fr); /* YazdÄ±rmada da 4 satÄ±r */
                gap: 0.5mm; /* YazdÄ±rmada boÅŸluÄŸu daha da azalttÄ±k */
                padding: 0.5mm;
            }
             /* YazdÄ±rma sÄ±rasÄ±nda boÅŸ divleri gizle */
            .product-item:empty {
                display: none;
            }
        }


        /* Her bir ÃœrÃ¼n Bilgi Kutusu (SKU + Miktar + Tik AlanÄ±) */
        .product-item {
            display: flex;
            flex-direction: column; /* Alt alta dizeceÄŸiz */
            /* justify-content: space-between; */ /* Ä°Ã§eriÄŸi dikeyde yayma, boÅŸluklar font ve margin ile ayarlanacak */ {# space-between kaldÄ±rÄ±ldÄ± #}
            align-items: center; /* Ä°Ã§eriÄŸi yatayda ortala */
            border: 1px dashed #eee; /* AlanlarÄ± ayÄ±rmak iÃ§in ince Ã§izgi */
            padding: 1mm; /* Ä°Ã§ boÅŸluÄŸu biraz artÄ±rdÄ±k, iÃ§eriÄŸin kenarlara yapÄ±ÅŸmasÄ±nÄ± engellemek iÃ§in */ {# Padding ayarlandÄ± #}
            overflow: hidden; /* Ä°Ã§erik taÅŸarsa gizle */
            text-align: center; /* Metni ortala */
            line-height: 1.2; /* SatÄ±r yÃ¼ksekliÄŸini ayarladÄ±k */
            position: relative; /* Tik kutusunu absolut pozisyonlamak iÃ§in */ {# Position eklendi #}
        }

        /* SKU ve Miktar iÃ§in bir Ã¼st konteyner */
        .sku-quantity-container {
            display: flex; /* SKU ve MiktarÄ± yan yana tutmak iÃ§in */
            flex-direction: column; /* SKU ve MiktarÄ± alt alta dizeceÄŸiz */
            justify-content: center;
            align-items: center;
            width: 100%; /* Konteynerin tam geniÅŸliÄŸini kullan */
            flex-grow: 1; /* Ä°Ã§eriÄŸin kalan alanÄ± kaplamasÄ±nÄ± saÄŸla (eÄŸer gerekirse) */ {# Flex-grow eklendi #}
             /* Tik alanÄ± iÃ§in altta boÅŸluk bÄ±rakabiliriz */
             /* margin-bottom: 1mm; */ /* Tik kutusu absolut olacaÄŸÄ± iÃ§in buna gerek kalmadÄ± */ {# Margin kaldÄ±rÄ±ldÄ± #}
        }


        .sku-text {
            font-size: 11px; /* SKU metni iÃ§in boyutu ayarladÄ±k */ {# Font boyutu tekrar ayarlandÄ± #}
            margin-bottom: 1px; /* SKU ile miktar arasÄ± boÅŸluk */ {# BoÅŸluk ayarlandÄ± #}
            /* text-overflow: ellipsis; */ /* KaldÄ±rÄ±ldÄ± */
            /* overflow: hidden; */ /* KaldÄ±rÄ±ldÄ± - wrapping iÃ§in overflow visible olmalÄ± */ {# KaldÄ±rÄ±ldÄ± #}
            /* white-space: nowrap; */ /* KaldÄ±rÄ±ldÄ± */
            word-break: break-word; /* Uzun kelimelerin de kÄ±rÄ±lmasÄ±nÄ± saÄŸla */
            /* max-width: 100%; */ /* KaldÄ±rÄ±ldÄ±, parent container geniÅŸliÄŸini kullanacak */
            font-weight: bold; /* SKU'yu kalÄ±n yapalÄ±m */
            display: block; /* Tam geniÅŸliÄŸi kaplamasÄ± ve alt satÄ±ra geÃ§mesi iÃ§in */ {# Display block eklendi #}
            width: 100%; /* Tam geniÅŸliÄŸi kullan */ {# Width eklendi #}
             overflow-wrap: break-word; /* Alternatif kelime kÄ±rma Ã¶zelliÄŸi */ {# Eklendi #}

             /* EÄŸer font boyutu hala bÃ¼yÃ¼k gelirse kÃ¼Ã§Ã¼ltmeyi dÃ¼ÅŸÃ¼n */
             /* EÄŸer Ã§ok uzun SKU'lar hala taÅŸarsa line-height'Ä± biraz azaltabilirsin */
        }

        .quantity-text {
            font-size: 16px; /* Miktar iÃ§in boyutu ayarladÄ±k */ {# Font boyutu tekrar ayarlandÄ± #}
            font-weight: bold;
            margin-top: 1px; /* ÃœstÃ¼ndeki SKU ile arasÄ±na boÅŸluk verdik */ {# BoÅŸluk ayarlandÄ± #}
            display: block; /* Tam geniÅŸliÄŸi kaplamasÄ± iÃ§in */ {# Display block eklendi #}
            width: 100%; /* Tam geniÅŸliÄŸi kullan */ {# Width eklendi #}
        }

        /* Tik Koyma AlanÄ± */
        .tick-box {
            width: 4mm; /* Tik kutusu geniÅŸliÄŸi */
            height: 4mm; /* Tik kutusu yÃ¼ksekliÄŸi */
            border: 1px solid black; /* KenarlÄ±k */
            position: absolute; /* KutucuÄŸa gÃ¶re konumlandÄ±r */ {# Position deÄŸiÅŸti #}
            bottom: 2mm; /* Alttan boÅŸluk */ {# Konum ayarlandÄ± #}
            right: 2mm; /* SaÄŸdan boÅŸluk */ {# Konum ayarlandÄ± #}
            flex-shrink: 0; /* KÃ¼Ã§Ã¼lmesini engelle */
            background-color: white; /* Arka plan rengi (varsa) */ {# Arka plan eklendi #}
            z-index: 1; /* DiÄŸer iÃ§eriklerin Ã¼stÃ¼nde gÃ¶rÃ¼nmesi iÃ§in */ {# Z-index eklendi #}
        }

        /* product-main-id-text ve color-size-text sÄ±nÄ±flarÄ± zaten kullanÄ±lmÄ±yordu */
    </style>
</head>
<body>
    {# Her sayfada kaÃ§ Ã¼rÃ¼n Ã§ifti olacaÄŸÄ±nÄ± belirle (Grid yapÄ±sÄ±yla uyumlu olmalÄ±: 4x4 = 16) #}
    {% set items_per_page = 16 %} {# Sayfa baÅŸÄ±na Ã¶ÄŸe sayÄ±sÄ± 16 #}
    {% set total_items = product_items | length %}
    {# Toplam Ã¼rÃ¼n sayÄ±sÄ±na ve her sayfadaki Ã¶ÄŸe sayÄ±sÄ±na gÃ¶re toplam sayfa sayÄ±sÄ±nÄ± hesapla #}
    {% set total_pages = (total_items / items_per_page) | round(0, 'ceil') | int %}

    {# Toplam sayfa sayÄ±sÄ± kadar dÃ¶ngÃ¼ kur #}
    {% for i in range(total_pages) %}
        {# Her dÃ¶ngÃ¼de yeni bir etiket sayfasÄ± alanÄ± (.label-page) oluÅŸtur #}
        <div class="label-page">
            {# Her sayfada belirlenen sayÄ±da Ã¼rÃ¼n bilgi alanÄ± (.product-item) oluÅŸtur #}
            {% for j in range(items_per_page) %}
                {# O anki Ã¶ÄŸenin product_items listesindeki indeksini hesapla #}
                {% set current_item_index = i * items_per_page + j %}

                {# EÄŸer hesaplanan indeks, product_items listesinin toplam boyutunu aÅŸmadÄ±ysa #}
                {% if current_item_index < total_items %}
                    {# product_items listesinden o anki Ã¼rÃ¼n Ã¶ÄŸesini al #}
                    {% set item = product_items[current_item_index] %}

                    {# Bir Ã¼rÃ¼n bilgi kutusu oluÅŸtur (.product-item) #}
                    <div class="product-item">
                        {# SKU ve Miktar iÃ§in Ã¼st konteyner #}
                        {# justify-content kaldÄ±rÄ±ldÄ±, dikey boÅŸluklar margin ile ayarlanacak #}
                        <div class="sku-quantity-container">
                            {# SKU'yu gÃ¶ster #}
                            <div class="sku-text">{{ item.sku }}</div>
                            {# MiktarÄ± gÃ¶ster #}
                            <div class="quantity-text">{{ item.quantity }}</div>
                        </div>
                         {# Tik koyma alanÄ± - ÃœrÃ¼n kutucuÄŸunun saÄŸ altÄ±nda absolut konumlandÄ±rÄ±ldÄ± #}
                        <div class="tick-box"></div>
                    </div>
                {% else %}
                     {# EÄŸer listedeki Ã¶ÄŸe sayÄ±sÄ± yetmiyorsa, etiket dÃ¼zenini korumak iÃ§in boÅŸ alanlar oluÅŸtur #}
                     {# Bu boÅŸ divler @media print iÃ§inde gizlenerek yazdÄ±rÄ±rken gÃ¶rÃ¼nmemesi saÄŸlanÄ±r #}
                     <div class="product-item">
                         {# BoÅŸ bÄ±rak #}
                     </div>
                {% endif %}
            {% endfor %}
        </div>
    {% endfor %}

    <!-- YazdÄ±r Butonu -->
    <button onclick="window.print()" style="
        position: fixed;
        top: 10px;
        right: 10px;
        padding: 8px 16px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        z-index: 9999;
    ">
        ğŸ–¨ï¸ YazdÄ±r
    </button>

    <style>
    @media print {
        button {
            display: none;
        }
    }
    </style>
</body>
</html>