<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>GÃ¼llÃ¼ AyakkabÄ±</title>
   <style>
      .container {
      max-width: 1200px;
      margin-top: 60px; /* Mevcut deÄŸerini koruduk */
      margin-left: auto; /* Ortalamak iÃ§in */
      margin-right: auto; /* Ortalamak iÃ§in */
      padding: 0 15px; /* SaÄŸ ve sol iÃ§ boÅŸluk */
      }
      .user-info {
      position: fixed;
      top: 15px;
      left: 20px;
      z-index: 10;
      font-size: 14px;
      color: #333;
      display: flex;
      align-items: center;
      gap: 10px;
      }
      .user-info img {
      max-width: 100px;
      height: auto;
      border-radius: 5px;
      }
      .btn-group-top {
      position: fixed;
      top: 15px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 10;
      flex-wrap: wrap; /* SÄ±ÄŸmazsa alt satÄ±ra insin */
      justify-content: flex-end; /* SaÄŸa hizala */
      align-items: center; /* Dikeyde ortala */
      }

      /* Ortak buton gÃ¶rÃ¼nÃ¼mÃ¼ */
      .btn {
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      border: none;
      color: #fff;
      }
      .btn:hover {
      transform: scale(1.05);
      text-decoration: none;
      color: #fff; /* Hover'da yazÄ± rengi deÄŸiÅŸmesin */
      }

      /* Bootstrap renk sÄ±nÄ±flarÄ±nÄ± gradientlerle override edelim */
      .btn-secondary {
      background: linear-gradient(to right, #757F9A, #D7DDE8); /* Gri tonlu */
      color: #fff;
      }
      .btn-warning {
      background: linear-gradient(to right, #f7971e, #ffd200); /* Turuncu-sarÄ± */
      color: #fff;
      }
      .btn-primary {
      background: linear-gradient(to right, #2193b0, #6dd5ed); /* Mavi tonlu */
      color: #fff;
      }
      .btn-success {
      background: linear-gradient(to right, #56ab2f, #a8e063); /* YeÅŸil tonlu */
      color: #fff;
      }
      .btn-info {
      background: linear-gradient(to right, #667db6, #0082c8, #0082c8, #667db6); /* Mavi tonlu */
      color: #fff;
      }
      .btn-danger {
      background: linear-gradient(to right, #cb2d3e, #ef473a); /* KÄ±rmÄ±zÄ± tonlu */
      color: #fff;
      }
      /* Disabled buton rengi */
      .btn.disabled, .btn:disabled {
      background-color: #cccccc; /* Pasif buton arka plan */
      background-image: none; /* Gradient'i kaldÄ±r */
      cursor: not-allowed;
      opacity: 0.7;
      }


      /* Dropdown gÃ¶rÃ¼nÃ¼mÃ¼ */
      .dropdown-toggle {
      border-radius: 20px !important; /* Arada .btn sÄ±nÄ±fÄ± da var, override iÃ§in !important */
      }
      .dropdown-menu {
      border-radius: 10px;
      padding: 0.5rem 0;
      background-color: #fff;
      border: none;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .dropdown-item {
      font-size: 0.85rem;
      padding: 0.5rem 1rem;
      color: #333;
      transition: background-color 0.3s ease;
      }
      .dropdown-item:hover {
      background-color: #efefef;
      }

      .order-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      align-items: flex-start;
      justify-content: center; /* KartlarÄ± ortala */
      }
      .card {
      width: 200px;
      border: none;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      margin-bottom: 20px;
      transition: transform 0.2s;
      overflow: hidden; /* Resim kÃ¶ÅŸeleri iÃ§in */
      background-color: #fff;
      }
      .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }
      .product-image {
      width: 100%;
      height: auto;
      border-radius: 10px 10px 0 0;
      object-fit: cover;
      }
      .card-title {
      font-weight: bold;
      color: #444;
      text-align: center;
      margin: 10px 0;
      white-space: nowrap; /* BaÅŸlÄ±k tek satÄ±rda kalsÄ±n */
      overflow: hidden; /* TaÅŸan kÄ±smÄ± gizle */
      text-overflow: ellipsis; /* TaÅŸan kÄ±sÄ±m yerine ... koy */
      }
      .card-text {
      font-size: 0.9rem;
      color: #666;
      text-align: center;
      }
      .form-control {
      border-radius: 10px;
      padding: 8px;
      font-size: 0.85rem;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid #ddd;
      }
      .form-control:focus {
      border-color: #6dd5ed;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1), 0 0 5px rgba(109, 213, 237, 0.5);
      }

      .form-group {
      position: relative;
      margin-bottom: 35px;
      }
      .alert {
      position: absolute;
      top: -30px;
      left: 0;
      right: 0;
      font-size: 12px;
      padding: 5px;
      border-radius: 5px;
      opacity: 0;
      transition: opacity 0.3s ease;
      text-align: center;
      z-index: 10;
      pointer-events: none;
      width: 100%; /* Tam geniÅŸlik */
      box-sizing: border-box; /* Padding geniÅŸliÄŸe dahil */
      }
      .alert-show {
      opacity: 1;
      }
      .alert-success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      }
      .alert-danger {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
      }

      /* Otomatik GÃ¶nderim Mesaj AlanÄ± */
      #autoShipMessage {
      position: fixed;
      top: 80px; /* Ãœst barlarÄ±n altÄ±na yerleÅŸtirildi */
      left: 0;
      right: 0;
      background-color: #e9ffe9; /* YeÅŸilimsi arkaplan */
      color: #155724; /* Koyu yeÅŸil yazÄ± */
      padding: 10px 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      z-index: 9; /* DiÄŸer iÃ§eriklerin Ã¼stÃ¼nde, fixed barlarÄ±n altÄ±nda */
      opacity: 0;
      visibility: hidden; /* Gizle */
      transition: opacity 0.5s ease, visibility 0.5s ease;
      font-size: 1rem;
      text-align: center;
      font-weight: bold;
      border-bottom: 1px solid #c3e6cb;
      }
      #autoShipMessage.show {
      opacity: 1;
      visibility: visible;
      }

      .copy-container {
      position: relative;
      cursor: pointer;
      display: inline-block;
      margin-left: 5px;
      color: #007bff;
      transition: color 0.2s ease;
      }
      .copy-container:hover {
      color: #0056b3;
      }
      .copy-confirmation {
      color: green;
      font-size: 1em;
      margin-left: 5px;
      display: none;
      }
      .copy-confirmation.show {
      display: inline-block;
      }
      .btn-bottom {
      max-width: 200px;
      margin: 10px 0;
      padding: 8px 15px;
      border-radius: 10px;
      }
      .bottom-buttons {
      text-align: left;
      margin-top: 20px;
      display: flex; /* ButonlarÄ± yan yana hizala */
      gap: 10px; /* Butonlar arasÄ±na boÅŸluk */
      flex-wrap: wrap; /* SÄ±ÄŸmazsa alt satÄ±ra geÃ§sin */
      }
      .fixed-header {
      background-color: #ffffff;
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px; /* Mevcut deÄŸerini koruduk */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      /* position: fixed; top: ... KaldÄ±rÄ±ldÄ±, container iÃ§inde kalacak */
      /* left: 0; right: 0; KaldÄ±rÄ±ldÄ± */
      /* transform: translateX(-50%); KaldÄ±rÄ±ldÄ± */
      /* width: calc(100% - 40px); KaldÄ±rÄ±ldÄ± */
      /* max-width: 1160px; KaldÄ±rÄ±ldÄ± */
      z-index: auto; /* z-index'i sÄ±fÄ±rla */
      }
      .fixed-header h4 {
      margin-top: 0;
      margin-bottom: 10px;
      color: #333;
      }
      .fixed-header p {
      margin: 0;
      line-height: 1.5;
      color: #555;
      }
      /* Kargo Kodu yanÄ±na kopyalama ikonu */
      .fixed-header .copy-container {
      color: #555; /* Kargo kodu rengiyle uyumlu */
      }


      .modal-content {
      border-radius: 15px;
      padding: 20px;
      }
      .modal-header {
      border-bottom: none;
      justify-content: center;
      }
      .modal-footer {
      border-top: none;
      justify-content: center;
      }
      /* Ã–zel adet stili: Adet 1'den fazla ise kÄ±rmÄ±zÄ± ve bÃ¼yÃ¼k gÃ¶ster */
      .highlight-quantity {
      color: red;
      font-size: 1.3em;
      font-weight: bold;
      }

      /* Bootstrap custom switch stili */
      .custom-control {
      position: relative; /* Toggle switch iÃ§in gerekli */
      display: inline-flex; /* Butonlarla yan yana */
      min-height: 1.5rem; /* Minimum yÃ¼kseklik */
      padding-left: 1.5rem; /* Label iÃ§in sola boÅŸluk */
      align-items: center; /* Dikeyde ortala */
      }
      .custom-switch {
      padding-left: 2.25rem; /* Switch iÃ§in daha fazla boÅŸluk */
      }
      .custom-control-input {
      position: absolute;
      left: 0;
      z-index: -1;
      width: 1rem;
      height: 1.25rem;
      opacity: 0; /* Orijinal inputu gizle */
      }
      .custom-control-label {
      margin-bottom: 0;
      line-height: 1.5;
      cursor: pointer;
      }
      .custom-control-label::before {
      position: absolute;
      top: 0.25rem;
      left: -2.25rem;
      display: block;
      width: 1.75rem; /* Toggle arka plan geniÅŸliÄŸi */
      height: 1rem; /* Toggle arka plan yÃ¼ksekliÄŸi */
      pointer-events: none;
      content: "";
      background-color: #adb5bd; /* Pasif arka plan rengi */
      border: #adb5bd solid 1px; /* KenarlÄ±k */
      border-radius: 1rem; /* Tam yuvarlak kenar */
      transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      }
      .custom-control-label::after {
      position: absolute;
      top: 0.25rem;
      left: -2rem; /* Toggle topu pozisyonu */
      display: block;
      width: 1rem; /* Toggle top boyutu */
      height: 1rem;
      content: "";
      background-color: #fff; /* Toggle top rengi */
      border-radius: 1rem; /* Tam yuvarlak */
      transition: transform 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      }
      .custom-switch .custom-control-input:checked ~ .custom-control-label::before {
      color: #fff;
      border-color: #28a745; /* Aktif kenarlÄ±k rengi */
      background-color: #28a745; /* Aktif arka plan rengi */
      }
      .custom-switch .custom-control-input:checked ~ .custom-control-label::after {
      transform: translateX(0.75rem); /* SaÄŸa kaydÄ±r */
      }

      @media (max-width: 768px) {
      .btn {
      font-size: 0.8rem;
      padding: 8px 12px;
      }
      .card-title {
      font-size: 0.9rem;
      }
      .card-text {
      font-size: 0.8rem;
      }
      .user-info img {
      max-width: 70px;
      }
      /* Mobil cihazlarda Ã¼st sabit elementlerin dÃ¼zeni bozulabilir */
      /* Bu Ã§ok temel bir Ã¶rnek, detaylÄ± responsive tasarÄ±m iÃ§in daha fazla medya sorgusu gerekebilir */
      .user-info {
      top: 10px;
      left: 10px;
      gap: 5px;
      font-size: 12px;
      }
      .user-info img {
      max-width: 60px;
      }
      .btn-group-top {
      top: 10px;
      right: 10px;
      gap: 5px;
      flex-direction: column; /* Mobil altÄ±nda alt alta */
      align-items: flex-end; /* SaÄŸa hizala */
      }
      .btn {
      width: 100%; /* Tam geniÅŸlik */
      text-align: center; /* Ortala */
      padding: 6px 10px;
      font-size: 0.8rem;
      }
      .dropdown-toggle {
      width: 100%;
      text-align: center !important; /* Ortala */
      }
      .dropdown-menu {
      left: auto !important; /* Bootstrap'in left:0 stilini ez */
      right: 0 !important; /* SaÄŸa hizala */
      min-width: auto; /* Minimum geniÅŸliÄŸi kaldÄ±r */
      width: auto; /* GeniÅŸliÄŸi iÃ§eriÄŸe gÃ¶re ayarla */
      }
      .dropdown-item {
      text-align: right; /* SaÄŸdan hizala */
      font-size: 0.8rem;
      }
      .custom-switch {
      margin-top: 10px; /* Buton grubundan boÅŸluk */
      width: 100%; /* Tam geniÅŸlik */
      justify-content: flex-end; /* SaÄŸa hizala */
      padding-right: 2.25rem; /* Sola padding yerine saÄŸa */
      padding-left: 0; /* Sola padding'i kaldÄ±r */
      }
      .custom-control-label::before {
      left: auto; /* Sola sabitlemeyi kaldÄ±r */
      right: 0; /* SaÄŸa sabitle */
      }
      .custom-control-label::after {
      left: auto; /* Sola sabitlemeyi kaldÄ±r */
      right: 0.25rem; /* SaÄŸa sabitle ve biraz boÅŸluk bÄ±rak */
      }
      .custom-switch .custom-control-input:checked ~ .custom-control-label::after {
      transform: translateX(-0.75rem); /* Sola kaydÄ±r (saÄŸdan sola) */
      }
      #autoShipMessage {
      top: 120px; /* Ãœst fixed bar'Ä±n altÄ±na yerleÅŸtir */
      padding: 8px 10px;
      font-size: 0.9rem;
      }
      .container {
      margin-top: 180px; /* Fixed header ve mesajÄ±n altÄ±na boÅŸluk */
      padding: 0 10px;
      }
      .fixed-header {
      margin-top: 10px; /* Container'Ä±n iÃ§inde Ã¼stten boÅŸluk */
      padding: 10px;
      }

      }
      @media (max-width: 576px) { /* Ã‡ok kÃ¼Ã§Ã¼k ekranlar */
      .card {
      width: calc(50% - 15px); /* Yan yana 2 kart */
      }
      .user-info {
      width: 100%;
      justify-content: center;
      }
      .btn-group-top {
      width: 100%;
      justify-content: center;
      }
      .custom-switch {
      justify-content: center; /* Ortala */
      padding-right: 2.25rem;
      }
      .custom-control-label::before { right: auto; left: 50%; transform: translateX(-150%); }
      .custom-control-label::after { right: auto; left: 50%; transform: translateX(-50%); }
      .custom-switch .custom-control-input:checked ~ .custom-control-label::after { transform: translateX(50%); }

      }

      </style>
<!--Ãœst menÃ¼ kÄ±smÄ± -->
<div class="user-info">
<img src="static/logo/gullu.png" alt="GÃ¼llÃ¼ Shoes Logo">
GiriÅŸ Yapan: <strong>{{ session['first_name'] }} {{ session['last_name'] }}</strong>
</div>

<div class="btn-group-top">
<a href="{{ url_for('home.home') }}" class="btn btn-secondary">Anasayfa</a>
<a href="{{ url_for('display_archive') }}" class="btn btn-secondary">ArÅŸiv</a>

<div class="dropdown">
<button class="btn btn-warning dropdown-toggle" type="button" id="kullaniciMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
KullanÄ±cÄ± Ä°ÅŸlemleri
</button>
<div class="dropdown-menu" aria-labelledby="kullaniciMenu">
<a class="dropdown-item" href="{{ url_for('approve_users') }}">KullanÄ±cÄ± YÃ¶netimi</a>
{% if session['role'] in ['admin', 'manager'] %}
<a class="dropdown-item" href="{{ url_for('user_logs.view_logs') }}">
<i class="fas fa-history"></i> KullanÄ±cÄ± Hareketleri
</a>
{% endif %}
</div>
</div>
<div class="dropdown">
<button class="btn btn-primary dropdown-toggle" type="button" id="siparisMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
SipariÅŸ Ä°ÅŸlemleri
</button>
<div class="dropdown-menu" aria-labelledby="siparisMenu">
<a class="dropdown-item" href="{{ url_for('siparisler_bp.yeni_siparis') }}">Yeni SipariÅŸ</a>
<a class="dropdown-item" href="{{ url_for('order_list_all') }}">SipariÅŸ Listesi</a>
<a class="dropdown-item" href="{{ url_for('degisim_talep') }}">DeÄŸiÅŸim Talepleri</a>
</div>
</div>
<div class="dropdown">
<button class="btn btn-success dropdown-toggle" type="button" id="urunMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
ÃœrÃ¼n Ä°ÅŸlemleri
</button>
<div class="dropdown-menu" aria-labelledby="urunMenu">
<a class="dropdown-item" href="{{ url_for('siparis_fisi_bp.siparis_fisi_sayfasi') }}">ÃœrÃ¼n Tedarik SayfasÄ±</a>
<a class="dropdown-item" href="{{ url_for('product_list') }}">ÃœrÃ¼n Listesi</a>
<a class="dropdown-item" href="{{ url_for('stock_management.stock_addition_screen') }}">Stok Ekleme</a>
<a class="dropdown-item" href="{{ url_for('stock_sync.dashboard') }}">ğŸ“¦ Stok Senkronizasyon</a>
<a class="dropdown-item" href="{{ url_for('iade_listesi') }}">Ä°ade Listesi</a>
</div>
</div>
<div class="dropdown">
<button class="btn btn-info dropdown-toggle" type="button" id="analizMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
Analizler
</button>
<div class="dropdown-menu" aria-labelledby="analizMenu">
<a class="dropdown-item" href="{{ url_for('analysis.sales_analysis') }}">SatÄ±ÅŸ Analizi</a>
<a class="dropdown-item" href="{{ url_for('openai_bp.ai_analiz') }}">AI Analiz</a>
<a class="dropdown-item" href="{{ url_for('commission_update_bp.update_commission_from_excel') }}">Excel Komisyon YÃ¼kle</a>
<a class="dropdown-item" href="{{ url_for('profit.profit_report') }}">KÃ¢r-Zarar Analizi</a>
<a class="dropdown-item" href="/intelligent-stock/">ğŸ§  Stok ZekasÄ± Paneli</a> <!-- Bu satÄ±rÄ± ekledim -->
</div>
</div>
<div class="custom-control custom-switch">
<input type="checkbox" class="custom-control-input" id="autoShipToggle">
<label class="custom-control-label" for="autoShipToggle">Otomatik GÃ¶nderim</label>
</div>
</div>
<div id="autoShipMessage">
<strong>Otomatik GÃ¶nderim Aktif:</strong> Kargo kodu: <span id="autoShipBarcode"></span>
</div>
<div class="container">
<form method="POST" action="{{ url_for('confirm_packing') }}" id="packingForm" autocomplete="off">
<input type="hidden" name="order_number" value="{{ order_number }}">